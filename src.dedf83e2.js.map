{"version":3,"sources":["js/storage.js","index.js"],"names":["load","key","serializedState","localStorage","getItem","undefined","JSON","parse","err","console","error","save","value","stringify","setItem","Theme","LIGHT","DARK","inputHandler","event","themeSwitchToggle","checked","body","classList","replace","document","querySelector","themeStyle","toggle","addEventListener"],"mappings":";AAuBA,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,KAAA,QAAA,UAAA,EApBO,MAAMA,EAAOC,IACd,IACIC,MAAAA,EAAkBC,aAAaC,QAAQH,GAEtCC,OAAoB,OAApBA,OAA2BG,EAAYC,KAAKC,MAAML,GACzD,MAAOM,GACPC,QAAQC,MAAM,oBAAqBF,KAcvC,QAAA,KAAA,EATO,MAAMG,EAAO,CAACV,EAAKW,KACpB,IACIV,MAAAA,EAAkBI,KAAKO,UAAUD,GACvCT,aAAaW,QAAQb,EAAKC,GAC1B,MAAOM,GACPC,QAAQC,MAAM,oBAAqBF,KAIvC,QAAA,KAAA;;ACaA,aApCA,IAAA,EAAA,QAAA,gBAEA,MAAMO,EAAQ,CACZC,MAAO,cACPC,KAAM,cAGFC,EAAgBC,IACdC,EAAkBC,UACN,EAAA,EAAA,MAAA,QAASN,EAAME,MAC3BK,EAAKC,UAAUC,QAAQT,EAAMC,MAAOD,EAAME,SAE9B,EAAA,EAAA,MAAA,QAASF,EAAMC,OAC3BM,EAAKC,UAAUC,QAAQT,EAAME,KAAMF,EAAMC,SAI3CM,EAAOG,SAASC,cAAc,QAC9BN,EAAoBK,SAASC,cAAc,6BACjD,IAAIC,GAAa,EAAY,EAAA,MAAA,SAM7B,OAJKA,IACDA,EAAaZ,EAAME,MAGfU,GACCZ,KAAAA,EAAMC,MACPI,EAAkBC,SAAU,EAC5BC,EAAKC,UAAUK,OAAOD,GACtB,MACCZ,KAAAA,EAAME,KACPG,EAAkBC,SAAU,EAC5BC,EAAKC,UAAUK,OAAOD,GAI9BP,EAAkBS,iBAAiB,SAAUX","file":"src.dedf83e2.js","sourceRoot":"../src","sourcesContent":["// storage.js\n\n// Принимает ключ `key` по которому будет произведена выборка.\nexport const load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (err) {\n    console.error('Get state error: ', err);\n  }\n};\n\n// Принимает ключ `key` и значение `value`.\nexport const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (err) {\n    console.error('Set state error: ', err);\n  }\n};\n\n// export default { load, save };","import { load as loadStorage, save as saveStorage} from \"./js/storage\";\n\nconst Theme = {\n  LIGHT: 'light-theme',\n  DARK: 'dark-theme',\n};\n\nconst inputHandler = (event) => {\n    if (themeSwitchToggle.checked) {\n        saveStorage('theme', Theme.DARK);\n        body.classList.replace(Theme.LIGHT, Theme.DARK);\n    } else {\n        saveStorage('theme', Theme.LIGHT);\n        body.classList.replace(Theme.DARK, Theme.LIGHT);\n    };\n};\n\nconst body = document.querySelector('body');\nconst themeSwitchToggle = document.querySelector('input#theme-switch-toggle');\nlet themeStyle = loadStorage('theme');\n// console.log(loadStorage, saveStorage);\nif (!themeStyle) {\n    themeStyle = Theme.DARK;\n}\n\nswitch (themeStyle) {\n    case Theme.LIGHT:\n        themeSwitchToggle.checked = false;\n        body.classList.toggle(themeStyle);\n        break;\n    case Theme.DARK:\n        themeSwitchToggle.checked = true;\n        body.classList.toggle(themeStyle);\n        break;\n}\n\nthemeSwitchToggle.addEventListener('change', inputHandler);"]}